services:
  gridcoin:
    build:
      context: .
      args:
        # Specify the .deb package URL here
        # Ubuntu 24.04: https://github.com/gridcoin-community/Gridcoin-Research/releases/download/5.4.9.0/gridcoinresearchd_5.4.9.0.noble-1_amd64.deb
        # Debian 13 (Trixie): https://github.com/gridcoin-community/Gridcoin-Research/releases/download/5.4.9.0/gridcoinresearchd_5.4.9.0.trixie-1_amd64.deb
        GRIDCOIN_DEB_URL: https://github.com/gridcoin-community/Gridcoin-Research/releases/download/5.4.9.0/gridcoinresearchd_5.4.9.0.trixie-1_amd64.deb
    container_name: gridcoin_node
    restart: unless-stopped
    ports:
      - "32749:32749"  # Gridcoin mainnet port
    volumes:
      # Blockchain data directory
      - ./blockchain:/root/.GridcoinResearch
      # Gridcoin configuration file
      - ./gridcoinresearch.conf:/home/grc/.GridcoinResearch/gridcoinresearch.conf:ro
    # Optional: Configure logging
    #logging:
    #  driver: "json-file"
    #  options:
    #    max-size: "10m"
    #    max-file: "5"
    # Uncomment to allocate a pseudo-TTY and keep container running
    # stdin_open: true
    # tty: true